# 27个信息源完整采集测试分析报告

**测试日期**: 2026-01-03 12:25
**测试时长**: 9.1 分钟
**测试股票**: 09618 京东集团

---

## 一、测试结果摘要

| 指标 | 数值 |
|------|------|
| **信息源总数** | 36 |
| **港股可用源** | 29 |
| **成功** | 19 |
| **失败** | 10 |
| **成功率** | **65.5%** |

---

## 二、成功的信息源（19个）

| 源 | 条数 | 耗时 | 修复方法 |
|----|------|------|---------|
| aastocks | 5 | 21.5s | 直接采集 |
| gelonghui | 5 | 17.8s | `/search?type=live` + `.live-li` ✅ |
| etnet | 5 | 11.5s | 直接采集 |
| hket | 5 | 22.4s | `invest.hket.com/data/HKG{code}` ✅ |
| hkej | 5 | 24.4s | `stock360.hkej.com/quotePlus/{code}` ✅ |
| yahoo | 5 | 11.0s | 直接采集 |
| eastmoney | 5 | 9.8s | 直接采集 |
| sina | 5 | 11.6s | 直接采集 |
| eastmoney_report | 5 | 15.8s | 直接采集 |
| jiemian | 5 | 33.5s | `a.jiemian.com/index.php?m=search` ✅ |
| kr36 | 5 | 17.1s | 等待+滚动 |
| yicai | 5 | 7.4s | 直接采集 |
| jin10 | 5 | 28.7s | `search.jin10.com/?keyword=` ✅ |
| globalMedia | 5 | 6.6s | 多源聚合 |
| northbound | 1 | 0s | 资金流向API |
| cls | 5 | 26.7s | `searchPage?type=telegram` ✅ |
| xueqiu | 1 | 0s | API |
| hkexnews | 5 | 47.0s | JS+dispatchEvent ✅ |
| wallstreet | 5 | 30.8s | `?q=关键词&type=live` + `.live-item` ✅ |

**标记 ✅ 的是使用TODO记录的修复方法**

---

## 三、失败的信息源（10个）

| 源 | 问题 | 原因分析 | 建议 |
|----|------|---------|------|
| futu | 返回0条 | 页面结构可能变化 | 需重新分析DOM |
| hkex | 返回0条 | 与hkexnews重复，无需修复 | 删除或合并 |
| zhitong | 返回0条 | WAF/反爬 | 需特殊处理 |
| ths | 返回0条 | 验证码/反爬 | 已用gotoLoose，仍不稳定 |
| yanbaoke | 返回0条 | 需要登录 | 暂不支持 |
| weibo | 返回0条 | 需要登录 | 暂不支持 |
| zhihu | 返回0条 | 需要登录 | 暂不支持 |
| tencent | 返回0条 | 页面结构变化 | 暂不支持 |
| seekingalpha | 返回0条 | 需要登录 | 暂不支持 |
| fxbaogao | 返回0条 | 需要登录 | 暂不支持 |

---

## 四、跳过的信息源（7个 - 不支持港股）

| 源 | 说明 |
|----|------|
| nbd | 仅A股 |
| stcn | 仅A股 |
| jimei | 仅A股 |
| sec | 仅美股 |
| taoguba | 仅A股 |
| cninfo | 仅A股 |
| guba | 仅A股 |

---

## 五、与TODO对比

### TODO声称可用 vs 实际测试

| TODO列出 | 实际结果 | 状态 |
|---------|---------|------|
| TODO: 27个可用 | 实测: 19个成功 | ⚠️ 差异 |

### 差异分析

**TODO列为可用但测试失败的源**：

| 源 | TODO说明 | 实际问题 |
|----|---------|---------|
| futu | `/main/live` + `.flash-list__flash-item` | 返回0条，需重新验证 |
| zhitong | 搜索+关键词匹配 | WAF拦截 |
| ths | `stockpage.10jqka.com.cn` + gotoLoose | 反爬，返回0条 |

**结论：TODO中的信息源状态需要更新**

---

## 六、修正后的真实可用源列表

### ✅ 确认可用（19个）

| 源 | 条数 | 状态 |
|----|------|------|
| aastocks | 5 | ✅ |
| gelonghui | 5 | ✅ |
| etnet | 5 | ✅ |
| hket | 5 | ✅ |
| hkej | 5 | ✅ |
| yahoo | 5 | ✅ |
| eastmoney | 5 | ✅ |
| sina | 5 | ✅ |
| eastmoney_report | 5 | ✅ |
| jiemian | 5 | ✅ |
| kr36 | 5 | ✅ |
| yicai | 5 | ✅ |
| jin10 | 5 | ✅ |
| globalMedia | 5 | ✅ |
| northbound | 1 | ✅ |
| cls | 5 | ✅ |
| xueqiu | 1 | ✅ |
| hkexnews | 5 | ✅ |
| wallstreet | 5 | ✅ |

### ⚠️ 不稳定（3个）

| 源 | 问题 | 建议 |
|----|------|------|
| futu | 测试返回0条 | 重新分析DOM |
| zhitong | WAF拦截 | 需特殊处理 |
| ths | 反爬 | 增加等待时间/cookies |

### ❌ 需要登录（6个）

| 源 | 状态 |
|----|------|
| yanbaoke | 暂不支持 |
| weibo | 暂不支持 |
| zhihu | 暂不支持 |
| seekingalpha | 暂不支持 |
| fxbaogao | 暂不支持 |
| tencent | 暂不支持 |

---

## 七、建议书

### 高优先级（立即执行）

1. **更新TODO信息源状态**
   - 将成功率从"27个可用"改为"19个确认可用"
   - 将futu、zhitong、ths标记为"不稳定"
   - 将需要登录的6个源标记为"暂不支持"

2. **修复futu爬虫**（工作量：1小时）
   - 重新分析`news.futunn.com/main/live`页面DOM
   - 更新`.flash-list__flash-item`选择器

3. **优化ths爬虫**（工作量：2小时）
   - 增加等待时间
   - 尝试使用cookies
   - 或降级为低优先级源

### 中优先级（本周执行）

4. **合并重复源**
   - hkex 和 hkexnews 功能重复，保留hkexnews

5. **添加采集监控**
   - 定期检测各源成功率
   - 成功率低于50%时告警

### 低优先级（可延后）

6. **研究登录源**
   - 如果需要yanbaoke/weibo/zhihu，研究登录方案

---

## 八、修正后的完成度评估

| 模块 | 原评估 | 修正评估 |
|------|--------|---------|
| 新闻采集 | 85% | **70%** |
| 可用源数量 | 27个 | **19个** |
| 港股源成功率 | - | **65.5%** |

**原因**：实际测试发现部分TODO列为"可用"的源无法正常工作。

---

## 九、附录：测试日志

测试结果已保存到 `/anti/mywind/full-source-test-result.json`
