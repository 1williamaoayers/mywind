# PDFå®Œæ•´å†…å®¹æå–å®æ–½æ–¹æ¡ˆ

**æ—¥æœŸ**: 2026-01-01 16:21  
**ä»»åŠ¡**: æµ‹è¯•4åªè®¢é˜…è‚¡ç¥¨çš„æŠ«éœ²æ˜“å…¬å‘ŠPDFå®Œæ•´å†…å®¹æå–

---

## ğŸ“‹ ä»»åŠ¡è¦æ±‚

1. æµ‹è¯•å…¨éƒ¨4åªè®¢é˜…è‚¡ç¥¨ï¼šäº¬ä¸œé›†å›¢ã€å°ç±³é›†å›¢ã€ä¸­å›½è”å¡‘ã€ç¦¾èµ›
2. PDFæå–å¿…é¡»æ˜¯å®Œæ•´å†…å®¹ï¼ˆæ‰€æœ‰é¡µé¢ï¼Œä¸æ˜¯1é¡µï¼‰
3. ä½¿ç”¨çœŸå®è¿ä½œæ—¶çš„çŠ¶æ€æµ‹è¯•ï¼Œä¸æ˜¯å•ç‹¬è„šæœ¬

---

## ğŸ”§ å®æ–½æ­¥éª¤

### æ­¥éª¤1ï¼šä¿®æ”¹ç°æœ‰ä»£ç 

**æ–‡ä»¶**: `services/stockNewsCollector.js`  
**ä½ç½®**: ç¬¬2142è¡Œ  
**ä¿®æ”¹å†…å®¹**:

```diff
- const ocrResult = await extractPdfContentOcr(item.url, { maxPages: 1, maxLength: 3000 });
+ const ocrResult = await extractPdfContentOcr(item.url, { maxPages: 10, maxLength: 20000 });
```

**åŸå› **: åŸä»£ç åªæå–1é¡µï¼Œè¿åäº†"PDFæå–å¿…é¡»æ˜¯å®Œæ•´å†…å®¹"çš„è§„åˆ™ã€‚

---

### æ­¥éª¤2ï¼šä¿®æ”¹ç°æœ‰æµ‹è¯•è„šæœ¬

**æ–‡ä»¶**: `test-targeted-scrape.js`  
**ä½ç½®**: çº¦ç¬¬58è¡Œ  
**ä¿®æ”¹å†…å®¹**:

åœ¨è°ƒç”¨ `scrapeForAllSubscriptions` æ—¶å¢åŠ  `extractContent: true` å‚æ•°ï¼š

```javascript
const allResults = await scrapeForAllSubscriptions(sources, { 
    maxItems: 10,
    extractContent: true  // å¯ç”¨PDFå†…å®¹æå–
});
```

---

### æ­¥éª¤3ï¼šè¿è¡Œæµ‹è¯•

```bash
cd /anti/mywind
node test-targeted-scrape.js
```

---

### æ­¥éª¤4ï¼šéªŒè¯ç»“æœ

æ£€æŸ¥è¾“å‡ºä¸­ï¼š
- æ¯åªè‚¡ç¥¨æ˜¯å¦æœ‰æŠ«éœ²æ˜“å…¬å‘Š
- å…¬å‘Šcontentå­—æ®µæ˜¯å¦æœ‰å®Œæ•´å†…å®¹ï¼ˆä¸æ˜¯åªæœ‰1é¡µçš„ç‰‡æ®µï¼‰
- OCRç½®ä¿¡åº¦æ˜¯å¦åˆç†ï¼ˆ>50%ï¼‰

---

## ğŸ“Š é¢„æœŸç»“æœ

| è‚¡ç¥¨ | æŠ«éœ²æ˜“å…¬å‘Šæ•° | contentå­—æ®µ | OCRç½®ä¿¡åº¦ |
|------|-------------|------------|----------|
| äº¬ä¸œé›†å›¢ | â‰¥1 | å®Œæ•´å†…å®¹ | >50% |
| å°ç±³é›†å›¢ | â‰¥1 | å®Œæ•´å†…å®¹ | >50% |
| ä¸­å›½è”å¡‘ | â‰¥1 | å®Œæ•´å†…å®¹ | >50% |
| ç¦¾èµ› | â‰¥1 | å®Œæ•´å†…å®¹ | >50% |

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `services/stockNewsCollector.js` | æ ¸å¿ƒé‡‡é›†æ¨¡å—ï¼ŒåŒ…å«hkexnewsé‡‡é›†å™¨ |
| `utils/pdfOcrExtractor.js` | PDF OCRæå–å·¥å…· |
| `test-targeted-scrape.js` | å®šå‘é‡‡é›†æµ‹è¯•è„šæœ¬ |
| `.agent/workflows/test-scraping.md` | é‡‡é›†æµ‹è¯•å·¥ä½œæµ |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦åˆ›å»ºæ–°è„šæœ¬** - ä½¿ç”¨ç°æœ‰çš„ `test-targeted-scrape.js`
2. **ä¸è¦å®‰è£…æ–°åŒ…** - æ‰€æœ‰ä¾èµ–å·²å­˜åœ¨
3. **æµ‹è¯•å…¨éƒ¨4åªè‚¡ç¥¨** - ä¸èƒ½åªæµ‹è¯•1åª
4. **å®Œæ•´å†…å®¹** - maxPages è®¾ä¸º10ï¼Œä¸æ˜¯1

---

*æ–¹æ¡ˆè®°å½•æ—¶é—´: 2026-01-01 16:21*
